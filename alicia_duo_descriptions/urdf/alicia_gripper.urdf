<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This URDF was modified and combined for MoveIt compatibility.                | -->
<!-- |    Original arm URDF generated by SolidWorks to URDF Exporter.                  | -->
<!-- |    Gripper parts added manually.                                                | -->
<!-- |    'world' link, TCP link, and transmissions added for ROS Control/MoveIt.      | -->
<!-- =================================================================================== -->

<robot name="alicia_duo_descriptions">

  <!-- =================================================================================== -->
  <!-- |                              Base World Link                                    | -->
  <!-- =================================================================================== -->
  <link name="world" />

  <joint name="world_joint" type="fixed">
    <parent link="world" />
    <child link="base_link" />
    <origin xyz="0 0 0" rpy="0 0 0" />
  </joint>

  <!-- =================================================================================== -->
  <!-- |                                Robot Base Link                                  | -->
  <!-- =================================================================================== -->
  <link name="base_link">
    <inertial>
      <origin xyz="-1.12822541424722E-09 0.0016235948270739 0.0309902540367644" rpy="0 0 0" />
      <mass value="0.336690291883532" />
      <inertia ixx="0.000600527677920599" ixy="2.30270287450371E-05" ixz="3.31033471508956E-11" iyy="0.00063128325368123" iyz="-5.28749380185059E-06" izz="0.00107257567609787" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/base_link.STL" />
      </geometry>
      <material name="white">
        <color rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>

  <!-- =================================================================================== -->
  <!-- |                                Arm Links & Joints                               | -->
  <!-- =================================================================================== -->
  <link name="Link01">
    <inertial>
      <origin xyz="6.91413365434281E-05 0.000102778304609986 0.0549674750575125" rpy="0 0 0" />
      <mass value="0.201893793843293" />
      <inertia ixx="0.000256699395369546" ixy="4.2126569426062E-06" ixz="7.27706599736705E-08" iyy="0.000131350273372018" iyz="4.38806747371623E-08" izz="0.000315268147387291" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link01.STL" />
      </geometry>
      <material name="white" />
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link01.STL" />
      </geometry>
    </collision>
  </link>

  <joint name="Joint01" type="revolute">
    <origin xyz="0 0 0.0448" rpy="0 0 0" />
    <parent link="base_link" />
    <child link="Link01" />
    <axis xyz="0 0 -1" /> <!-- Axis slightly adjusted for clarity, original was 0 0 -1 -->
    <limit lower="-3.14" upper="3.14" effort="10" velocity="1.0" /> <!-- Added placeholder effort/velocity -->
  </joint>

  <link name="Link02">
    <inertial>
      <origin xyz="0.00150549462098446 -0.145246853748378 0.00109907916363092" rpy="0 0 0" />
      <mass value="0.212441655331353" />
      <inertia ixx="0.0002054822780722" ixy="2.44820752178825E-06" ixz="2.77953533970126E-06" iyy="0.000131118997491629" iyz="2.53938078760784E-06" izz="0.000117695346139495" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link02.STL" />
      </geometry>
      <material name="white" />
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link02.STL" />
      </geometry>
    </collision>
  </link>

  <joint name="Joint02" type="revolute">
    <origin xyz="-3.998E-05 0 0.09471" rpy="-1.5708 0 0" />
    <parent link="Link01" />
    <child link="Link02" />
    <axis xyz="0 0 1" /> <!-- Axis simplified for clarity, original was slightly off Z: -0.031602 0 0.9995 -->
    <limit lower="-1.57" upper="1.57" effort="10" velocity="1.0" /> <!-- Added placeholder effort/velocity -->
  </joint>

  <link name="Link03">
    <inertial>
      <origin xyz="0.0473414667658727 -0.00400830630286259 0.00111942660192283" rpy="0 0 0" />
      <mass value="0.0657263285269435" />
      <inertia ixx="2.11001090028887E-05" ixy="4.36096320575083E-06" ixz="2.85676412713156E-06" iyy="4.8691575363126E-05" iyz="-2.45058809149858E-07" izz="5.19598368516365E-05" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link03.STL" />
      </geometry>
      <material name="white" />
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link03.STL" />
      </geometry>
    </collision>
  </link>

  <joint name="Joint03" type="revolute">
    <origin xyz="0.022898 -0.21357 0.0017856" rpy="0 0 0.7854" />
    <parent link="Link02" />
    <child link="Link03" />
    <axis xyz="0 0 -1" /> <!-- Axis simplified for clarity, original was slightly off -Z: 0.022346 -0.022346 -0.9995 -->
    <limit lower="-0.52" upper="2.35" effort="10" velocity="1.0" /> <!-- Added placeholder effort/velocity -->
  </joint>

  <link name="Link04">
    <inertial>
      <origin xyz="-4.06896212049035E-05 -0.000151021090799505 0.0688919323210952" rpy="0 0 0" />
      <mass value="0.0968331868100811" />
      <inertia ixx="2.97950417648703E-05" ixy="-4.79570407703021E-08" ixz="1.20464773885749E-08" iyy="2.8721371701525E-05" iyz="3.08948734356075E-07" izz="1.76957940053587E-05" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link04.STL" />
      </geometry>
      <material name="white" />
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link04.STL" />
      </geometry>
    </collision>
  </link>

  <joint name="Joint04" type="revolute">
    <origin xyz="0.089177 0.0021828 0.001995" rpy="-1.5484 0.022325 -1.57" />
    <parent link="Link03" />
    <child link="Link04" />
    <axis xyz="0 0 -1" /> <!-- Axis simplified for clarity, original was slightly off Z: -0.024209 0.00052155 0.99971 -->
    <limit lower="-3.14" upper="3.14" effort="10" velocity="1.0" /> <!-- Added placeholder effort/velocity -->
  </joint>

  <link name="Link05">
    <inertial>
      <origin xyz="0.0108878739115628 0.0252170351665851 0.0015699243545176" rpy="0 0 0" />
      <mass value="0.0325826711334277" />
      <inertia ixx="1.01403032166353E-05" ixy="-1.34212851221052E-06" ixz="5.75512709165777E-08" iyy="1.43785617510427E-05" iyz="2.09348985152106E-07" izz="1.08796607017424E-05" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link05.STL" />
      </geometry>
      <material name="white" />
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link05.STL" />
      </geometry>
    </collision>
  </link>

  <joint name="Joint05" type="revolute">
    <!-- <origin xyz="-0.00020544 -0.00034116 0.11911" rpy="1.5484 0.00024963 -0.022337" /> -->
    <origin xyz="-0.00020544 -0.00034116 0.11911" rpy="1.5484 0.00024963 -0.022337" />
    <parent link="Link04" />
    <child link="Link05" />
    <axis xyz="0 0 1" /> <!-- Axis simplified for clarity, original was slightly off Z: -0.022346 -0.022346 0.9995 -->
    <limit lower="-1.57" upper="1.57" effort="10" velocity="1.0" /> <!-- Added placeholder effort/velocity -->
  </joint>

  <link name="Link06">
    <inertial>
      <origin xyz="3.11347092551983E-09 -6.19959954033245E-10 -0.00146275616399914" rpy="0 0 0" />
      <mass value="0.000754053623586498" />
      <inertia ixx="1.92367692913217E-08" ixy="9.19452422026982E-14" ixz="-3.52333042434498E-15" iyy="1.9235836025852E-08" iyz="3.901332223803E-17" izz="3.70123450485769E-08" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link06.STL" />
      </geometry>
      <material name="white" />
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://alicia_duo_descriptions/meshes/Link06.STL" />
      </geometry>
    </collision>
  </link>

  <joint name="Joint06" type="revolute">
    <origin xyz="0.0038622 0.059172 0.0019495" rpy="-1.5484 -0.022348 -0.00024989" />
    <parent link="Link05" />
    <child link="Link06" />
    <axis xyz="0 0 -1" />
    <limit lower="-3.14" upper="3.14" effort="10" velocity="1.0" /> <!-- Added placeholder effort/velocity -->
  </joint>

  <!-- =================================================================================== -->
<!-- |                              Gripper Control Joint                               | -->
<!-- =================================================================================== -->
<!-- 添加一个虚拟连杆作为夹爪控制的父连杆 -->
<link name="gripper_base">
  <inertial>
    <mass value="0.001" />
    <origin xyz="0 0 0" rpy="0 0 0" />
    <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
  </inertial>
</link>

<!-- 将gripper_base连接到Link06 -->
<joint name="gripper_base_joint" type="fixed">
  <origin xyz="0 0 0.0615" rpy="0 -1.5708 0" />
  <parent link="Link06" />
  <child link="gripper_base" />
</joint>
<!-- 夹爪左手指链接 -->
<link name="Grapper_finger_left">
  <visual>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="package://alicia_duo_descriptions/meshes/Grapper_finger_left.STL"/>
    </geometry>
    <material name="blue">
      <color rgba="0 0 0.8 1"/>
    </material>
  </visual>
  <collision>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="package://alicia_duo_descriptions/meshes/Grapper_finger_left.STL"/>
    </geometry>
  </collision>
  <inertial>
    <mass value="0.01"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
  </inertial>
</link>

<!-- 夹爪右手指链接 -->
<link name="Grapper_finger_right">
  <visual>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="package://alicia_duo_descriptions/meshes/Grapper_finger_right.STL"/>
    </geometry>
    <material name="blue">
      <color rgba="0 0 0.8 1"/>
    </material>
  </visual>
  <collision>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="package://alicia_duo_descriptions/meshes/Grapper_finger_right.STL"/>
    </geometry>
  </collision>
  <inertial>
    <mass value="0.01"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
  </inertial>
</link>
<!-- 添加一个夹爪控制关节 -->
<link name="gripper_control">
  <inertial>
    <mass value="0.001" />
    <origin xyz="0 0 0" rpy="0 0 0" />
    <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
  </inertial>
</link>

<!-- 这是控制整个夹爪开合的主关节 - 范围保持不变 -->
<joint name="Grip_control" type="prismatic">
  <origin xyz="0 0 0" rpy="0 0 0" />
  <parent link="gripper_base" />
  <child link="gripper_control" />
  <axis xyz="1 0 0" />
  <limit lower="0" upper="0.04" effort="10" velocity="0.1" />
</joint>

<!-- 修改左手指关节，使它从闭合到打开 -->
<joint name="Grapper_finger_left_joint" type="prismatic">
  <origin xyz="0 0.01 0" rpy="0 0 0" />
  <parent link="gripper_base" />
  <child link="Grapper_finger_left" />
  <axis xyz="0 1 0" />
  <limit lower="-0.02" upper="0.02" effort="5" velocity="0.1" />
  <!-- 当grip=0时处于闭合位置，当grip=0.04时处于打开位置 -->
  <mimic joint="Grip_control" multiplier="0.5" offset="-0.015" />
</joint>

<!-- 修改右手指关节，使它从闭合到打开 -->
<joint name="Grapper_finger_right_joint" type="prismatic">
  <origin xyz="0 -0.01 0" rpy="0 0 0" />
  <parent link="gripper_base" />
  <child link="Grapper_finger_right" />
  <axis xyz="0 -1 0" />
  <limit lower="-0.02" upper="0.02" effort="5" velocity="0.1" />
  <!-- 当grip=0时处于闭合位置，当grip=0.04时处于打开位置 -->
  <mimic joint="Grip_control" multiplier="0.5" offset="-0.015" />
</joint>

<!-- 为grip关节添加transmission -->
<transmission name="tran_grip">
  <type>transmission_interface/SimpleTransmission</type>
  <joint name="Grip_control">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
  </joint>
  <actuator name="motor_grip">
    <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    <mechanicalReduction>1</mechanicalReduction>
  </actuator>
</transmission>
  <!-- =================================================================================== -->
  <!-- |                       Tool Center Point (TCP) Link - Visual Only                | -->
  <!-- =================================================================================== -->
  <link name="tcp_link">
      <visual>
          <origin xyz="0 0 0" rpy="0 0 0"/>
          <geometry>
              <sphere radius="0.005"/>
          </geometry>
          <material name="green">
              <color rgba="0 1 0 1"/>
          </material>
      </visual>
      <!-- No collision geometry as requested -->
      <inertial> <!-- Dummy inertial for valid link -->
          <mass value="1e-5" />
          <origin xyz="0 0 0" rpy="0 0 0"/>
          <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
      </inertial>
  </link>

<!-- 将joint_tcp连接到gripper_control而不是Link06 -->
<joint name="joint_tcp" type="fixed">
    <parent link="gripper_control"/>
    <child link="tcp_link"/>
    <!-- 调整位置以适应新的父链接 -->
    <origin xyz="0.05 0 0" rpy="0 0 0"/>
</joint>

  <!-- =================================================================================== -->
  <!-- |                              Transmission Elements                              | -->
  <!-- =================================================================================== -->
  <!-- Transmissions for ros_control -->
  <transmission name="tran1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Joint01">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="tran2">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Joint02">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="tran3">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Joint03">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="tran4">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Joint04">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="tran5">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Joint05">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="tran6">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Joint06">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="tran_grip_L">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Grapper_finger_left_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_grip_L">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <transmission name="tran_grip_R">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Grapper_finger_right_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_grip_R">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

</robot>